<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <style>
    .system { fill: #1a365d; stroke: #2b6cb0; stroke-width: 2; }
    .external { fill: #2d3748; stroke: #4a5568; stroke-width: 2; }
    .web3 { fill: #44337a; stroke: #805ad5; stroke-width: 2; }
    .vpn { fill: #276749; stroke: #38a169; stroke-width: 2; }
    .ai { fill: #702459; stroke: #b83280; stroke-width: 2; }
    text { font-family: Arial, sans-serif; fill: white; font-size: 14px; }
    .title { font-size: 20px; font-weight: bold; }
    .arrow { stroke: #718096; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
    .bidirectional { stroke: #718096; stroke-width: 2; fill: none; marker-end: url(#arrowhead); marker-start: url(#arrowhead); }
    .label { font-size: 12px; fill: #e2e8f0; }
  </style>
  
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#718096" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="400" y="40" text-anchor="middle" class="title">Macro Browser System Context</text>
  
  <!-- Macro Browser System -->
  <rect x="300" y="250" width="200" height="100" rx="15" class="system" />
  <text x="400" y="290" text-anchor="middle">Macro Browser</text>
  <text x="400" y="310" text-anchor="middle" font-size="12px">Desktop Application</text>
  
  <!-- External Systems -->
  <!-- Web -->
  <rect x="100" y="100" width="150" height="80" rx="10" class="external" />
  <text x="175" y="145" text-anchor="middle">Web Content</text>
  
  <!-- Web3 Components -->
  <rect x="550" y="100" width="150" height="80" rx="10" class="web3" />
  <text x="625" y="145" text-anchor="middle">Blockchain Networks</text>
  
  <!-- P2P VPN Nodes -->
  <rect x="100" y="400" width="150" height="80" rx="10" class="vpn" />
  <text x="175" y="440" text-anchor="middle">P2P VPN Network</text>
  <text x="175" y="460" text-anchor="middle" font-size="12px">(NetBird/WireGuard)</text>
  
  <!-- AI Services -->
  <rect x="550" y="400" width="150" height="80" rx="10" class="ai" />
  <text x="625" y="440" text-anchor="middle">AI Services</text>
  <text x="625" y="460" text-anchor="middle" font-size="12px">(Search/Analysis)</text>
  
  <!-- Wallet Provider -->
  <rect x="300" y="450" width="200" height="80" rx="10" class="web3" />
  <text x="400" y="490" text-anchor="middle">Wallet Services</text>
  <text x="400" y="510" text-anchor="middle" font-size="12px">(MetaMask SDK, etc.)</text>
  
  <!-- Connection Lines -->
  <!-- Web Connections -->
  <path d="M175 180 L300 270" class="arrow" />
  <text x="220" y="210" class="label">HTTPS Requests</text>
  
  <!-- Blockchain Connections -->
  <path d="M625 180 L500 270" class="arrow" />
  <text x="580" y="210" class="label">RPC/API Calls</text>
  
  <!-- VPN Connections -->
  <path d="M250 440 L300 320" class="bidirectional" />
  <text x="240" y="370" class="label">Encrypted Traffic</text>
  
  <!-- AI Service Connections -->
  <path d="M550 440 L500 320" class="bidirectional" />
  <text x="550" y="370" class="label">API Queries</text>
  
  <!-- Wallet Integration -->
  <path d="M400 450 L400 350" class="bidirectional" />
  <text x="420" y="400" class="label">Wallet Operations</text>
  
  <!-- Legend -->
  <rect x="650" y="30" width="20" height="15" rx="5" class="system" />
  <text x="680" y="40" font-size="12px" fill="#e2e8f0">Core System</text>
  <rect x="650" y="50" width="20" height="15" rx="5" class="external" />
  <text x="680" y="60" font-size="12px" fill="#e2e8f0">External Web</text>
  <rect x="650" y="70" width="20" height="15" rx="5" class="web3" />
  <text x="680" y="80" font-size="12px" fill="#e2e8f0">Web3 Systems</text>
  <rect x="650" y="90" width="20" height="15" rx="5" class="vpn" />
  <text x="680" y="100" font-size="12px" fill="#e2e8f0">VPN Network</text>
  <rect x="650" y="110" width="20" height="15" rx="5" class="ai" />
  <text x="680" y="120" font-size="12px" fill="#e2e8f0">AI Services</text>
</svg>